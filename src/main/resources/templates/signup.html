<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gradation</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" />
    <link rel="stylesheet" type="text/css" href="/css/signup.css" />
</head>
<body>
<div class="main-container">
    <div class="top-bar">
        <span class="title">Trello</span>
        <div class="navigation">
          <span class="home-tab"></span
          ><span class="boards-tab"></span
        ><span class="contact-tab"></span>
        </div>
    </div>
    <div class="section">
        <div class="container">
          <span class="title-1">트렐로 회원가입</span>
            <span class="description">지금 당장 회원가입 후 트렐로를 즐기세요</span>
            <div class="input">
                <span class="signup-label">이메일</span>
                <label><input class="input-tag" id="email" placeholder="이메일을 입력해주세요"></label>
            </div>
            <div class="input">
                <span class="signup-label">비밀번호</span>
                <label><input class="input-tag" type="password" id="password" placeholder="비밀번호를 입력해주세요"></label>
            </div>
            <div class="input">
                <span class="signup-label">비밀번호 확인</span>
                <label><input class="input-tag" type="password" id="password-check" placeholder="비밀번호를 재입력해주세요"></label>
            </div>
            <div class="input">
                <span class="signup-label">성별</span>
                <label><input class="input-tag" id="gender" placeholder="성별을 입력해주세요"></label>
            </div>
            <div class="input">
                <span class="signup-label">주소</span>
                <label><input class="input-tag" id="address" placeholder="주소를 입력해주세요"></label>
            </div>
            <div class="input">
                <span class="signup-label">핸드폰 번호</span>
                <label><input class="input-tag" id="phone" placeholder="번호를 입력해주세요"></label>
            </div>
            <button class="button" id="signup-btn">회원가입</button>
        </div>
        <div class="vector"></div>
    </div>
    <div class="section-5">
        <div class="container-6">
          <span class="title-7">© 2024 Trello</span
          ><span class="title-8">Terms of Service</span
        ><span class="title-9">Privacy Policy</span
        ><span class="title-a">Contact Us</span>
        </div>
    </div>
</div>
<!-- Generated by Codia AI - https://codia.ai/ -->
</body>

<script>

    document.getElementById("signup-btn").addEventListener('click', function() {
        const loginData = {
            "email" : document.getElementById("email").value,
            "password" : document.getElementById("password").value,
            "gender" : document.getElementById("gender").value,
            "address" : document.getElementById("address").value,
            "phone" : document.getElementById("phone").value,
        }

        // fetch를 이용한 POST 요청 설정
        fetch('/api/signup', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json' // JSON 형태의 데이터 전송을 명시
            },
            body: JSON.stringify(loginData) // 데이터를 JSON 문자열로 변환하여 전송
        })
            .then(data => {
                if(data.status === 200){
                    alert("회원가입 되었습니다.");
                    location.href = "/";
                    return;
                }
                alert("회원가입에 실패하였습니다.");
            })
            .catch(error => {
                // 오류 처리
                alert(error)
            });
    })
</script>
</html>
